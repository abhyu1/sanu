<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine? ğŸ’•</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</head>
<body class="valentine-bg">
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">ğŸ’–</a>
            <ul class="nav-menu">
                <li><a href="love-letter.html" class="nav-link">Love Letter</a></li>
                <li><a href="photos.html" class="nav-link">Our Photos</a></li>
                <li><a href="song.html" class="nav-link">Our Song</a></li>
            </ul>
        </div>
    </nav>

    <div class="hero">
        <div class="hearts-container"></div>
        <h1 id="mainTitle">Will you be my Valentine, <span class="name">[Her Name]</span>? ğŸ’•</h1>
        <div class="countdown" id="countdown"></div>
        <div class="buttons" id="buttonsContainer">
            <button class="btn-yes" id="yesBtn">Yes! â¤ï¸</button>
            <button class="btn-no" id="noBtn">No ğŸ˜¢</button>
        </div>
        <div id="response" class="response"></div>
    </div>

    <script>
        // Floating hearts
        createHearts();
        
        // Countdown to Valentine's 2026
        let valentine = new Date('2026-02-14T00:00:00').getTime();
        let timer = setInterval(() => {
            let now = new Date().getTime();
            let diff = valentine - now;
            let days = Math.floor(diff / (1000*60*60*24));
            document.getElementById('countdown').textContent = `${days} days to our special day! ğŸŒ¹`;
        }, 1000);

        // NO CLICK COUNTER
        let noClicks = 0;
        const yesButton = document.getElementById('yesBtn');
        const noButton = document.getElementById('noBtn');
        const buttonsContainer = document.getElementById('buttonsContainer');
        const mainTitle = document.getElementById('mainTitle');
        const countdown = document.getElementById('countdown');

        function createHearts() {
            for(let i = 0; i < 40; i++) {
                let heart = document.createElement('div');
                heart.innerHTML = ['ğŸ’–','ğŸ’•','ğŸ’—','ğŸ’','ğŸŒ¹','âœ¨'][Math.floor(Math.random()*6)];
                heart.className = 'heart';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random()*4 + 3) + 's';
                heart.style.animationDelay = Math.random() * 2 + 's';
                document.querySelector('.hearts-container').appendChild(heart);
            }
        }

        function sayYes() {
            // Victory explosion!
            for(let i = 0; i < 15; i++) {
                setTimeout(() => {
                    confetti({
                        particleCount: 150,
                        spread: 90,
                        origin: { y: 0.6 }
                    });
                }, i * 150);
            }
            setTimeout(() => {
                window.location.href = 'yes-celebration.html';
            }, 2500);
        }

        function goToLetter() {
            window.location.href = 'love-letter.html';
        }

        // ğŸ¯ PERFECT GROWING YES + VANISHING NO!
        noButton.addEventListener('click', function() {
            noClicks++;
            
            // YES GROWS LARGER each click (1x â†’ 3x+)
            const scale = 1 + (noClicks * 0.18);
            yesButton.style.transform = `scale(${scale})`;
            yesButton.style.transition = 'transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            
            // GLOWING HEARTBEAT EFFECT
            const glowIntensity = 20 + (noClicks * 12);
            yesButton.style.boxShadow = `0 ${glowIntensity}px ${glowIntensity*1.5}px rgba(255,107,157,0.8)`;
            
            // SHRINK & FADE NO BUTTON
            const noScale = Math.max(1 - (noClicks * 0.12), 0);
            const noOpacity = Math.max(1 - (noClicks * 0.125), 0);
            noButton.style.transform = `scale(${noScale})`;
            noButton.style.opacity = noOpacity;
            noButton.style.transition = 'all 0.4s ease-out';
            
            // **NO VANISHES after 8 clicks**
            if (noClicks >= 8) {
                noButton.style.display = 'none';
                buttonsContainer.style.justifyContent = 'center';
                yesButton.style.margin = '0 auto';
            }
            
            // ROMANTIC PHRASES (8 stages of desperation! ğŸ˜)
            const romanticPhrases = [
                'Yes! â¤ï¸',
                'Please? ğŸ¥ºğŸ’•',
                'I Love You!! ğŸ’–ğŸ’–',
                'You Know You Do! ğŸŒ¹ğŸ˜',
                'Be Mine Forever! ğŸ’âœ¨',
                'Say Yes Baby! ğŸ˜˜ğŸ’•',
                'My Heart Says YES! ğŸ’ğŸ’',
                'DESTINY CALLS! ğŸŒŸğŸ’–ğŸ’–'
            ];
            
            if (noClicks <= romanticPhrases.length) {
                yesButton.textContent = romanticPhrases[Math.min(noClicks - 1, romanticPhrases.length - 1)];
            }
            
            // HEART EXPLOSION!
            createHeartExplosion();
            
            console.log(`No #${noClicks}/8 - YES=${scale.toFixed(1)}x | No=${noScale.toFixed(1)}x | ${romanticPhrases[Math.min(noClicks-1,7)] || 'LOVE WINS!'}`);
        });

        // No button DODGES (gets weaker)
        noButton.addEventListener('mouseover', function() {
            if (noClicks < 6) {
                const dodgeAmount = 60 - (noClicks * 8);
                const x = (Math.random() - 0.5) * dodgeAmount;
                const y = (Math.random() - 0.5) * dodgeAmount;
                this.style.transform = `translate(${x}px, ${y}px) scale(${Math.max(1 - noClicks * 0.12, 0)})`;
            }
        });

        noButton.addEventListener('mouseleave', function() {
            const noScale = Math.max(1 - (noClicks * 0.12), 0);
            this.style.transform = `translate(0, 0) scale(${noScale})`;
        });

        // HEART EXPLOSION ON EVERY NO!
        function createHeartExplosion() {
            const heartCount = 12 + (noClicks *
